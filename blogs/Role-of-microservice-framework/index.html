<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Role of [[microservice framework]] HTTP Channel and [[GRPC]] Channel before we begin, let&rsquo;s explore the differences between HTTP and RPC. The reason why gRPC is discussed here is that no one uses common RPC.
HTTP is a common communication method used for business coding, and its popularity is needless to say."><title>Role of microservice framework</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://notes.abser.top//icon.png><link href=https://notes.abser.top/styles.7153093e4d1bbb584a28469cadfa3f88.min.css rel=stylesheet><link href=https://notes.abser.top/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://notes.abser.top/js/darkmode.859bfc1cd0b17406c8e6c095372cb007.min.js></script>
<script src=https://notes.abser.top/js/util.9825137f5e7825e8553c68ce39ac9e44.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://notes.abser.top/js/popover.53ad9a087e3feeaaa12b63bfd02d923b.min.js></script>
<script src=https://notes.abser.top/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://notes.abser.top/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://notes.abser.top/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const BASE_URL="https://notes.abser.top/",fetchData=Promise.all([fetch("https://notes.abser.top/indices/linkIndex.4ec5e0a5c21b78176a4620e75f980cfb.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://notes.abser.top/indices/contentIndex.b13b1b49332dc2dab41e0fb01ef81606.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://notes.abser.top",!0,!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!0;drawGraph("https://notes.abser.top",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:2,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'‚Äô':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/notes.abser.top\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-45QF7GTLZX"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-45QF7GTLZX",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://notes.abser.top/js/full-text-search.24827f874defbbc6d529926cbfcfb493.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://notes.abser.top/>üòäÊù®ÈºéÁùøÁöÑÁ¨îËÆ∞</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>Role of microservice framework</h1><p class=meta>Last updated
Aug 5, 2016
<a href=https://github.com/abserari/quartz/tree/hugo/content/blogs/Role%20of%20microservice%20framework.md rel=noopener>Edit Source</a></p><ul class=tags><li><a href=https://notes.abser.top/tags/%E5%8D%9A%E5%AE%A2/>ÂçöÂÆ¢</a></li></ul><aside class=mainTOC><details open><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#role-of-microservice-framework>Role of [[microservice framework]]</a></li><li><a href=#http-channel-and-grpc-channel>HTTP Channel and [[GRPC]] Channel</a></li><li><a href=#top-programmers-and-beginners-beginners-and-idiots>Top programmers and beginners, beginners, and idiots</a></li><li><a href=#the-dilemma-of-microservices-caused-by-abstract-hierarchy-and-abstract-leakage>The dilemma of microservices caused by abstract hierarchy and abstract leakage</a></li><li><a href=#summary>Summary</a></li></ol></nav></details></aside><a href=#role-of-microservice-framework><h2 id=role-of-microservice-framework><span class=hanchor arialabel=Anchor># </span>Role of <a class="internal-link broken">microservice framework</a></h2></a><a href=#http-channel-and-grpc-channel><h2 id=http-channel-and-grpc-channel><span class=hanchor arialabel=Anchor># </span>HTTP Channel and <a class="internal-link broken">GRPC</a> Channel</h2></a><p>before we begin, let&rsquo;s explore the differences between HTTP and RPC. The reason why gRPC is discussed here is that no one uses common RPC.</p><p>HTTP is a common communication method used for business coding, and its popularity is needless to say. As a Web programmer, HTTP Server programming is its core skill. RPC is also indispensable in microservices.</p><p>Can programmers who are familiar with one of the encoding quickly get started with the business coding of another transmission method?</p><p>After all, the business logic is consistent, which seems to be only different in network transmission.</p><p>Colleagues who have done this know that the differences in business coding are not small. Although the differences are constrained to the transport layer through the abstraction layer during design, there is no framework to block the differences in implementation. Therefore, coding students need to go deep into it and handle it by themselves.</p><p>For example, you need to learn more about envoy and proto files, how to encode requests and return values, and how to use specific <a class="internal-link broken">protobuf</a> to parse message packets in your business.</p><p>The differences can be shielded at the abstraction level. We still need to write detailed differences in implementation. These are the operations that some programmers can replace with frameworks.</p><a href=#top-programmers-and-beginners-beginners-and-idiots><h2 id=top-programmers-and-beginners-beginners-and-idiots><span class=hanchor arialabel=Anchor># </span>Top programmers and beginners, beginners, and idiots</h2></a><p>the role of the framework is to make correct coding behavior without thinking.</p><p>There are enough ecological libraries for the current language to help compile various coding types. When lacking, some ecosystems can be transplanted by referring to other languages to reduce the workload. However, not every programmer can do such behavior at any time.</p><p>Google is a friend. Business Code they often get into trouble because of something they don&rsquo;t know so that no matter how their skills or intelligence are, they can&rsquo;t solve the problem.</p><p>In the business, some coding work will be compared to moving bricks. Programmers are described as manual work to move code from here to there. However, when someone participates in the process, the error probability will also be related to the state of a person.</p><p>Through Murphy&rsquo;s law, we can recognize that errors must occur in these processes. How do reduce personal decisions to ensure high quality and high output of assembly line coding manpower?</p><p>If you want to treat yourself as an idiot coder and leave the error-prone parts to tools, the framework will generate great benefits.</p><blockquote><p>Nothing is built on Stone; Everything is built on sand, but we must build sand as stone.
-Jorge Louis Borges</p></blockquote><p>the following are some examples:</p><ul><li>code review:</li></ul><p>architects not only need to formulate process standards, but also need to supervise the implementation. Code review is the major part of the workload. However, there are thousands of people, and code writers have their ideas. There may even be a design-based cohesion function, which is scattered at all levels in implementation, and the review process is even more inefficient.</p><p>Constraints can be carried out through the framework, which is also the wisdom of software engineering. By increasing restrictions, standards can be formulated to provide efficiency.</p><ul><li>Best Practices:</li></ul><p>business code usually uses simple addition, deletion, modification, query data, and target resources. At the same time, there are some common functional requirements, such as <a class="internal-link broken">JWT</a>.</p><p>The framework can shield these differences. For example, JWT only has different types of tokens carried by HTTP, and ORM shields the actual data storage software interfaces in the background for addition, deletion, query, modification, and modification.</p><p>This is another wisdom of computer science, solving problems by adding a middle layer. Framework users can switch to different implementations without thinking.</p><p>If the best practices provided by the framework cannot meet the requirements, it is time for the document to show its role. Technical personnel-oriented documentation is useful only when problems occur.</p><a href=#the-dilemma-of-microservices-caused-by-abstract-hierarchy-and-abstract-leakage><h2 id=the-dilemma-of-microservices-caused-by-abstract-hierarchy-and-abstract-leakage><span class=hanchor arialabel=Anchor># </span>The dilemma of microservices caused by abstract hierarchy and abstract leakage</h2></a><blockquote><p>Google software engineering mentions three key differences between programming and software engineering: <strong>time</strong>, <strong>scope</strong>, and <strong>trade-offs</strong>.</p></blockquote><p>However, the idea of the framework is beautiful enough, but the realization, in reality, is full of trade-offs and the pursuit of perfection.</p><p>Even if the strange requirements of a specific time limit on the business side are excluded. The design cannot be accomplished overnight and a perfect abstract design can be completed.</p><p>Abstract leakage refers to the abstraction of implementation details that should be hidden during software development, which inevitably exposes the underlying details and limitations.</p><p>Not to mention that a complete system has more than one or two levels. How to make reasonable abstraction and promote it as a standard is a long-term practice and change in many microservice frameworks and coding fields.</p><p>Abstraction means unification, while behind the abstraction level, it usually means the actual services with different characteristics. Do you use the union or intersection of these services for abstraction? Whether to consider extended compatibility or functionality.</p><blockquote><p>For more information, see another article.
<a href=/ rel=noopener class=internal-link data-src=/>Mongo Doc access design</a>, is practical experience.</p></blockquote><blockquote><p>Also The API of Dapr. Many Interfaces of Golang (IO, SQL, and Net) can see abstract practical practices.</p></blockquote><p>For example, designers will struggle with whether to provide a certain function to the outside, so they have done a lot of work to provide it. However, in terms of function usage, it may be a pseudo requirement or a simple shielding. However, in actual scenarios, it is necessary to have a lower layer of functions, and the abstraction level is still broken down.</p><p>At this point, everyone understands that it falls into specific scenarios and analyzes specific problems. Therefore, a microservice framework that has passed the postgraduate entrance examination for a long time must have solved many problems in the target scenario.</p><blockquote><p>This reminds me that programmers always pursue new technologies. New microservice frameworks usually have high expectations, hoping that they can completely solve the problems encountered in practice that the old frameworks cannot solve. Finally, expectations often fail. Why can we expect a new untested framework to meet the needs of the technical framework that has been designed and modified many times in practice in specific fields?</p></blockquote><p>Back to our question at the beginning, is there a framework that unifies the HTTP Channel and gRPC Channel, and only needs to write the handler&rsquo;s internal code without paying attention to other work?</p><p>In the modern framework, Dapr did accomplish this.</p><p>What about the abstract cost?</p><p>The field type in the <a class="internal-link broken">Protobuf</a> is lost, and it is considered a payload. The handler has different self-processing types, which is consistent with HTTP abstraction.</p><p>Is it true that such an abstraction layer has just come up with now? If you have a deeper understanding of computer science, you will find that some past ideas shine brilliantly in new scenarios.</p><p>Time is the most significant variable (for example, previous programmers needed to deduct bytes. Now, do you still need to care about insufficient memory for personal PC and cloud coding?).</p><a href=#summary><h2 id=summary><span class=hanchor arialabel=Anchor># </span>Summary</h2></a><p>The above describes the problems related to the microservice framework considered in the experience. Just raising questions is a hooligan. My opinions and suggestions are mentioned a lot in the article.</p><p>To make a summary, it is:</p><p>providing a fool-like automated microservice framework enables programmers to make fewer decisions and make better decisions.</p><p>Only by using the time saved to innovate business links and business models, and not being involved in non-creative work such as environment building, can workers feel the value of innovation and self-achievement.</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://notes.abser.top/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by Êù®ÈºéÁùø using <a href=https://github.com/abserari/quartz>Quartz</a>, ¬© 2022</p><ul><li><a href=https://notes.abser.top/>Home</a></li><li><a href=https://twitter.com/abserari>Twitter</a></li><li><a href=https://github.com/abserari>Github</a></li></ul></footer></div></div></body></html>