---
title: "OLTP 和 OLAP 的比较"
date: "2022-10-27"
aliases: []
---
## 摘要


## 问题、提示
-  

## 主要笔记
- **[[ACID]] 合规：** OLTP 系统必须确保正确记录整个事务处理。事务处理通常涉及执行多个步骤或操作的程序执行。它可能在所有相关方确认事务、交付产品/服务，或对数据库中的特定表进行一定数量的更新时完成。仅当执行并记录了涉及的所有步骤时，事务处理才算是获得了正确的记录。如果任何一个步骤有任何错误，则必须中止整个事务处理，并且从系统中删除所有步骤。因此，OLTP 系统必须符合[[原子性]]、一致性、隔离性和持久性 (ACID) ，以确保系统中数据的准确性。
    -   [[原子性]]：原子性控制确保事务处理中的所有步骤作为一个组成功完成。也就是说，如果事务处理之间的任何步骤失败，则所有其他步骤也必须失败或回滚。事务处理的成功完成称为提交。事务处理的失败称为中止。
    -   一致性：事务处理保留数据库的内部一致性。如果您在最初一致的数据库中单独执行事务处理，则当事务处理完成执行时，数据库再次保持一致。
    -   隔离性：事务处理的执行方式就像它单独运行一样，没有涉及其他事务处理。也就是说，运行一组事务处理的效果与一次运行一项事务处理的效果相同。这种行为称为可串行化，通常通过锁定表中的特定行来实现。
    -   持久：事务处理的结果不会因失败而丢失。
-   **并发性：** OLTP 系统的用户群可以非常庞大，许多用户尝试同时访问相同的数据。系统必须确保尝试读取或写入系统的所有用户都可以同时执行此操作。并发控制确保两个用户同时访问数据库系统中的相同数据将无法更改该数据，或者一个用户必须等到另一个用户完成处理后才能更改数据。
-   **扩展性：** OLTP 系统必须能够即时扩展和缩小，以实时管理事务处理量并同时执行事务处理，而与尝试访问系统的用户数量无关。
-   **可用性：** OLTP 系统必须始终可用并随时准备接受事务处理。事务处理失败可能导致收入损失或产生法律影响。事务处理可以在全球任何地方随时执行，因此系统必须全天候可用。
-   **高吞吐量并缩短响应时间：** OLTP 系统需要纳秒甚至更短的响应时间，来提高企业用户的工作效率并满足客户不断增长的期望。
-   **可靠性：** OLTP 系统通常读取和操作高度选择性的少量数据。更重要的是，在任何指定时间点，数据库中的数据对于访问该数据的用户和应用程序来说都是可靠且值得信赖的。
-   **安全性：** 由于这些系统存储高度敏感的客户事务处理数据，因此数据安全性至关重要。任何违规行为对公司来说都需要付出非常昂贵的代价。
-   **可恢复性：** OLTP 系统必须在发生任何硬件或软件故障时具有恢复能力。

| [[OLTP]] 系统                              | [[OLAP]] 系统                                                    |
| -------------------------------------- | ------------------------------------------------------------ |
| 需要闪电般的快速回应时间               | 要求的响应时间比 [[OLTP]] 慢几个数量级                           |
| 频繁修改少量数据，通常涉及读写平衡     | 完全不修改数据；工作负载通常是读取密集型的                   |
| 使用[[索引]]数据来缩短响应时间             | 以[[列格式存储]]数据，以便轻松访问大量记录                       |
| 需要频繁或并发的数据库[[备份]]             | 不需要太频繁的数据库备份                                     |
| 需要相对较少的存储空间                 | 通常有大量存储空间，因为它们存储了大量历史数据               |
| 通常运行仅涉及一个或多个记录的简单查询 | 运行涉及大量记录的复杂查询                                   |
| 支持大量人员实时执行大量[[数据库事务]]     | 通常涉及查询数据库中的许多记录，甚至所有记录，以用于分析目的 |
